---
layout: post
title: Gait Rehabilitation Robot - 연구 배경 및 보행재활로봇 DDgo Pro
feature-img: "assets/img/portfolio/gait.jpg"
thumbnail: "assets/img/portfolio/gait.jpg"
tags: [Gait Rehabilitation Robot]
---

역동역학 기반의 파워어시스트 보행재활로봇 훈련 알고리즘 연구의 배경을 정리한다.

## 1. 연구 배경

고령화 시대에 고령자들의 신체적 능력 저하로 인한 의료 및 재활 서비스에 대한 수요 증가와 장기간 보행재활 훈련이 필요한 뇌졸증, 파킨슨병 환자들의 효과적인 훈련 방법의 필요성이 증가하고 있다. 이러한 사회적 문제와 함께 로봇기술의 발전으로 보행재활로봇의 연구 사례도 증가하고 있는데, 이 보행재활로봇은 오랜 시간 반복훈련을 할 수 있도록 도와주고, 보행 궤적을 만들어주기 때문에 효과적으로 보행 훈련을 할 수 있게 도와준다.

보행재활 로봇은 말단장치 재활로봇과 트레드밀/외골격 재활로봇으로 나눌 수 있는데, 말단장치 재활로봇으로는 Gait Trainer, G-EO-system, Gait Trainer GT1, Gait Master 5 등이 있고, 트레드밀/외골격 재활로봇에는 Lokomat, LokoHelp, ReoAmbulator 등이 개발되어 사용되고 있다. 이러한 재활 로봇들은 재활 훈련을 위해 정해진 보행 궤적을 만들고, 이 궤적을 따라 환자가 수동적으로 훈련을 할 수 있도록 도와준다. 하지만 사람마다 신체적 특성이 다르고, 보행의 습관도 모두 다르기 때문에, 로봇이 만드는 궤적에 강하게 속박될 경우 걸음걸이의 이질감을 만들어 훈련에 악영향을 미칠 수 있다. 이러한 문제를 해결하기 위해 Inverse Dynamics를 이용하여 로봇의 운동을 보상하여 로봇이 사람의 힘에 유연하게 반응하도록 하는 연구가 이루어지고 있다.

본 연구는 말단장치 형태의 보행재활로봇의 Inverse Dynamics를 이용한 힘 기반 제어 방법을 제안하였다. 트레드밀/외골격 보행재활로봇의 경우 이러한 Inverse Dynamics를 이용한 힘 기반 제어 연구가 많이 이루어졌지만, 말단장치 형태의 보행재활로봇의 경우 연구 사례는 알려진 바가 없다. 따라서 말단장치 형태의 보행재활로봇인 DDgo Pro를 이용한 힘 기반 제어 방법에 대해 연구하고, 실제 그 효과에 대해서 검증하고자 한다.

## 2. DDgo Pro

<img src="/assets/img/posts/230617_ddgo_pro.jpg">

### 2.1 5절 링크 메커니즘
DDgo Pro는 한 개의 모터로 두 개의 5절 링크의 크랭크 축을 회전시켜 비장애인의 보행 궤적을 정확하게 구현한다. 비장애인의 보행 궤적을 구현하기 위해 광학식 모션 캡쳐 장비를 이용하여 보행 시 발목 궤적을 측정하였고, 이 모션을 구현하기 위한 5절 링크 메커니즘을 최적화 알고리즘을 이용하여 설계하였다.

<img src="/assets/img/posts/230617_five_link.png">

### 2.2 병렬 구동 시스템

최적화된 5절 링크 메커니즘은 한 개의 모터가 타이밍 풀리/벨트를 거쳐서 크랭크를 회전시켜 양 발이 180도의 위상차를 가지도록 구현하였다. 또한 환자의 보행이 모터에 직접적으로 구속되지 않고 보행의 자유도를 주기 위하여 5절 링크의 크랭크 축과 모터 구동축 사이에 단방향의 동력을 전달하는 프리휠을 장착함으로써 병렬식 하이브리드 구동부를 구현하였다.

<img src="/assets/img/posts/230617_actuator.png">

### 2.3 제어 시스템

DDgo Pro의 주 제어기는 Texas Instrument 사의 TMS320F28335 마이크로 컨트롤러를 사용하여 제어시스템을 구성하였다. 절대식 엔코더를 사용하여 크랭크 축의 각도와 각속도를 측정하여 환자의 보행위상과 속도를 측정하고, 이를 기반으로 훈련 알고리즘에 따른 토크를 계산하여 맥슨 모터 드라이버를 통한 토크 제어를 실시하였다. 마그네틱 브레이크의 ON/OFF 제어를 수행하여 승하차 시에 5절링크 메커니즘이 움직이지 않도록 고정하였다. 마지막으로 블루투스 통신을 통해 태블릿 PC로부터 로봇의 동작을 명령하고, 로봇으로부터 환자의 보행 상태를 모니터링할 수 있도록 구성되어있다. 

<img src="/assets/img/posts/230617_control_system.png">

### 2.4 안전 장치

훈련 시 환자의 안전을 위하여 골반지지대와 반장슬 제어장치, 슬관절 내/외전 제어장치를 설계하였다. 골반지지대는 환자의 몸이 기울어지지 않도록 잡아주는 역할과 낙상사고를 예방하며, 반장슬 제어장치는 하지 근력이 약한 환자에게 치명적인 부상을 줄 수 있는 슬관절의 과신전을 방지하는 역할을 한다. 슬관절 내/외전 제어장치는 훈련 시 발생할 수 있는 슬관절의 내/외전을 방지하는 역할을 한다.

* 골반지지대

<img src="/assets/img/posts/230617_pelvis_harness.png">

* 반장슬 제어장치

<img src="/assets/img/posts/230617_back_knee_protector.png">

* 슬관절 내/외전 제어장치

<img src="/assets/img/posts/230617_rotation_protector.png">